<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Etch-a-sketch</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>


    <script>

       const mainContainer = document.createElement("div");
        mainContainer.id="main-container";
        document.body.append(mainContainer);

        const buttonContainer = document.createElement("div");
        buttonContainer.id = "button-container";
        mainContainer.appendChild(buttonContainer);

        const squareContainer = document.createElement("div");
        squareContainer.id = "square-container"; 
        mainContainer.appendChild(squareContainer);

        let gridSize = 16;
        
        createBoxes(); //run function initially with 16

        selectSize = document.createElement("button");
        selectSize.textContent="Click here";
        selectSize.addEventListener("click", (e) => {
            gridSize = parseInt(prompt("enter the number of boxes"));
            createBoxes();
           
        });
        buttonContainer.appendChild(selectSize);

        resetBtn = document.createElement("button");
        resetBtn.textContent ="Reset";
        resetBtn.addEventListener("click", () => resetGrid());
        buttonContainer.appendChild(resetBtn);

        function createBoxes() {
            if(gridSize <=100 && gridSize > 0) {
            squareContainer.innerHTML = ""; //deletes previous boxes
            const boxSize = 500 / gridSize;
            const totalBoxes = gridSize * gridSize;

            for(let i = 0; i<totalBoxes; i++){
            const newBox = document.createElement("div");
            newBox.classList.add("box"); //Add class to style the boxes
            newBox.style.width = `${boxSize}px`;
            newBox.style.height = `${boxSize}px`;
            squareContainer.appendChild(newBox); //append new box to container
            newBox.addEventListener("mouseover", (e) =>{newBox.style.backgroundColor = 'grey'});
         }
            
           } else {
            return alert("Number must be between 1-100");
           }
            
            
            

       
         }

         function resetGrid(){
            squareContainer.innerHTML = "";
            createBoxes();
            
         }
    </script>
</body>
</html>